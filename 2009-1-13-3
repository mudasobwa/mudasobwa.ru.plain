WTF—CMS. Пунктиром.

Весь этот текст — следствие моей личной нужды в систематизации собственных мыслей по поводу удобной CMS.

Революционная идея здесь одна. *Текст неудобно читать на широком экране. А ленту анонсов — удобно. Поэтому лента должна формироваться горизонтально, а текст показываться — шириной 500-600px — вертикально. Можно даже прямо по месту.*.

§3 Содержимое

	§4 3 типа представления

		
		• *лента*: 1+ блоков аннотаций с листалкой  
			_параметры:_ количество в блоке, сложный фильтр (комбинация категории и [по дате, по рейтингу, случайные, …])  
		Галерея фотографий, например — это тоже лента со своим шаблоном представления.
		• *одна заметка*: текст с картинками, видео, музыкой и блэк-джеком (здесь и далее: текст+);
		• *хитровывернутое*: например, на заглавной странице.
		
			§4 2 типа страниц

		§5 без шаблона

		

Ну да, простой HTML, который вписывается в «стандартный дизайн сайта».

		§5 по шаблону

		

Шаблон представления бывает собственно у текстов (заголовок — обернуть в `H1`, картинку вот сюда и обтекаем текстом, аннотацию не показываем, текст оборачиваем в `<div class="article">`, …) и у лент (ширина ленты 200px, аннотации горизантально, заголовки — обернуть в `H3`, …).

			§4 5 полей в шаблоне

		
			• дата
			• заголовок
			• аннотация
			• титульная картинка
			• все остальное (текст+)
			• reserved
		
		

Еще мне хотелось добавить специальный поля для оформления цитат (текст цитаты и ссылка, чтобы в шаблоне обернуть их `<blockquote>` с атрибутом `cite="URL"`). Пока в нерешительности.

		

Все остальные варианты типов полей — избыточны и лишь захламляют CMS. Да, удобно делать быструю выборку по специальному полю, например, «год издания». Для этого есть последнее поле — `reserved`. А без выборки сразу по двум полям можно обойтись. Или строить временные таблицы по поиску.

§3 Дизайн

	§4 Ленты горизонтальны

 	

Эра разрешения 800×600 в далеком прошлом, анонсы удобнее читать шириной максимум в 300px, причем — слева направо (задействуем весь экран даже на больших мониторах).

	

`overflow: hidden` — не нужно бояться отрезать анонсы снизу по середине строки. Так происходит в многострочных полях ввода, например, и совершенно не режет глаз. Это лучше, во всяком случае, чем резать по количеству слов, хотя бы тем, что четко дает понять посетителю: дальше что-то есть. Эстетам предлагается поверх последней «полустроки» положить фильтр с градиентом прозрачности.

	§4 Тексты вертикальны

	

Ширина 500-600px. Так читать с монитора гораздо удобнее.

	§4 Контекстный показ

	

Место, которое остается справа — уходит под «контекстное предложение продолжения экскурсии по сайту» (еще в этой(их) категории(ях), еще статьи с большим пересечением словаря, …).

		§3 Категории = Теги = Рубрики

	
	• автоподсказка по существующим
	• добавление новой категории искусственно затруднено
	• вся фильтрация и сортировка осуществляется по категориям
	• «деревянная структура»
	
§3 Меню

	§4 Меню на любом сайте — излишне

	

Да, я это сказал. Меню в сети — атавизм. Хороший поиск по сайту и контекстные блоки вокруг каждого материала полностью заменяют нелепый набор непонятных ссылок. Контакты должны быть видны на каждой странице. Список предлагаемых услуг — это лента на заглавной (именно лента, а не меню, с картинками и описаниями).

	§3 Клики

	

Любую заметку, показанную аннотацией в ленте, можно открыть как в виде «одна заметка на странице» (со всем фаршем вокруг) так и «прямо тут» — аяксом, просто полный текст.

§3 Заглавная страница

	§4 Несколько лент

	

Лент на заглавной странице несколько, по «корневым» рубрикам.

	§4 Что новенького?

	

Вновь появившиеся со времени последнего визита посетителя аннотации немного подсвечиваются (только если их 	

§4 Рабочий стол

	

Люди привыкли, что им не нужно перегружать мой «рабочий стол» — значит не нужно перезагружать и страницы, чтобы ознакомиться с сайтом.

	

А ленты прокручиваются «далее» аяксом.

§3 Страницы лент

	§4 Все публикации

	§4 По категории(ям)

	

Лучшие (по мнению автора сайта) / последние / читаемые / …

	§4 По поисковому запросу

§3 Внутренние страницы (текст+)

	
	• сам текст
	• комментарии
	• предыдущая/следующая в разделе
	• случайная из этой категории
	• последнее в этой категории
	• лучшее в этой категории
	• похожее на сайте (большое пересечение словаря текстов)
	
	§3 Поиск

	§4 Поиск по сайту доступен с любой страницы

	

Тег, всплывающее окошечко, там ссылка «еще об этом».

	§4 Стандартное представление

	

Результаты поиска отдаются обычной лентой (с подсвеченными in-place соответствиями запросу).

	§3 Комментарии

	§4 Два типа представления

		§5 default

		

Комментарии первого уровня — только trackback/pingback, дальше — как обычно (дерево).

		

Для этого в механизм trackback/pingback придется добавить возможность «позднего связывания», то есть я жму в чужом журнале «оставить комментарий», а мне предлагается выбрать свою запись и (по желанию) — кусок из нее, который нужно переопубликовать как комментарий.

		

Можно написать такой комментарий прямо in-place, но тогда он будет автоматически переопубликован в моем личном блоге (и будет периодически проверяться его наличие, чтобы я не смог его стереть).

		§5 «abyss» — все комментарии

		

Отдельное место для «просто комментариев первого уровня» — возможно, даже в простой «не древовидной» структуре. Аналог: bash.org — abyss vs. best. Бездну ходят читать только не ленивые бездельники.

§3 Просто так

	

Когда что-нибудь на экране меняется (разворачивается аяксом заметка «прямо по месту») — нужна анимация. Я вообще-то против превращения сети в мультик, но посетитель иначе может не заметить, что содержимое страницы изменилось.

			§3 Модули

	

Всякие интернет-магазины должны быть, теоретически, провязаны, да.

Не заставляйте посетителей постоянно перегружать страницы, покажите все в естественном представлении: ленту горизонтально, а текст — вертикально, — и воздастся!  
На черновой вариант такого представления (без градиентных фильтров на «обрезанных» аннотациях и без динамической подгрузки «следующих заметок»)  можно посмотреть (http://mudasobwa.ru/?theme=WideFeeds)  .