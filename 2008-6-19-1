WYSIWYG or WYSIYHA

           Об  чем  думает  такойпапаша? Он думает об выпить хорошую стопку водки, об дать  кому-нибудь  по морде, об своих конях — и ничего больше.  
— И. Бабель, « Одесские рассказы (http://www.lib.ru/PROZA/BABEL/odessa.txt)  ».

§3 WYSIWYG?!

Визуальные редакторы придуманы для того, чтобы облегчить жизнь простым людям, не подозревающим о том, что пара слов «язык разметки» — для многих из нас — впитанная с первыми пинками гуру — идиома. Я тоже не чужд прогрессу и стараюсь, по мере сил и возможностей, облегчать читателям жизнь всякой типографикой и прочими украшательствами. Кажущиеся мне важными мысли — набираю жирным шрифтом; акценты расставляю курсивом. Цитаты обозначаю так, чтобы никто не заподозрил меня в плагиате. Я вообще молодец.

Чтобы читать текст было удобно, приходится прибегать к множеству ухищрений. Клавиатура у меня настроена по-особому, чтобы лапки-елочки и тире набирались в одно нажатие. Я помню наизусть несколько языков разметки и вынужден использовать их по нескольку раз на абзац. А мне хочется, вместо этого, валяться на диване, пить коньяк, курить сигару и читать Уайлда. Поэтому не реже, чем раз в год, я принимаю судьбоносное решение: отныне я стану пользоваться визуальными редакторами при наборе текста в интернете. Тем более, что сейчас они повсюду. Для них даже название специальное придумали —  WYSIWYG (http://ru.wikipedia.org/wiki/WYSIWYG)  . Авторы термина работали в исследовательских лабораториях  Xerox (http://www.xerox.com/)   и привыкли к требованию «копия обязана быть не хуже оригинала».

Я пытаюсь полюбить свое удобство, но каждый раз я сталкиваюсь с непреодолимыми трудностями. Для меня эти редакторы превращаются в настоящий «WYSIYHA» — «What You See Is Your Headache». И я возвращаюсь обратно к очень неудобным, но родным и понятным языкам разметки.

§3 Нате — жуйте.

Почему же так получается? — спросит меня лениво несколько въедливых читателей. Я не смогу ответить на этот вопрос, зато я попытаюсь рассказать, как, на мой взгляд, должен быть устроен _удобный_ редактор.

Если конкретнее — я возьму за образец редактор  FCK (http://ru.wikipedia.org/wiki/FCKeditor)  , интегрированный в  Lj (http://mudasobwa.ru/livejournal.com)   и расскажу, как его необходимо допилить, чтобы использование не превращалось в самоистязание и не приводило к желанию откусить голову разработчикам.

Итак, собираясь написать запись в Lj из веб-интерфейса мы видим следующее:

#file:22#

Сюрприз первый. Уменьшить еще немного в ширину — этот редактор невозможно. Появится полоска прокрутки, но редактор останется именно такого размера. Неприятность невелика, но вызывает у меня чувство справедливого недоумения: почему, а главное — зачем?!

Ну ладно, это я придираюсь. А вот уже серьезная неприятность: я вижу перед собой 21 (двадцать одну) кнопку. При том, что 99.99% записей самых типографически аккуратных авторов в блогах обходятся пятью типами оформления (жирный, курсив, цитата, список, зачеркивание). Еще необходимы три служебные кнопки: вставить имя пользователя, вставить картинку, вставить ссылку. Еще можно предоставить возможность изменить размер шрифта, но это уже явное излишество. Остальные кнопки — сюрприз №2 — никто никогда не нажимает. Но они есть.

Широко известен тот факт, что средний человек способен оперировать в уме пятью разными понятиями одновременно. Гении — семью. Меня же заставляют жонглировать двадцать одним, из которых более десяти я вообще никогда не использую. Но это еще полбеды. Настоящая беда в том, что даже нужные мне кнопки работают не так, как я мог бы ожидать. Допустим, я хочу разукрасить свой текст картинкой. Я нажимаю кнопку и — voila — вижу перед собой вот этот шедевр максимализма:

#file:23#

Lorem ipsum, конечно. Кто же еще! И какая, в топку, «информация об изображении»?! О чем это?! У меня вот тут, на моем уютном рабочем столе, — картинка, и я хочу ее вставить в текст записи. Я не тырю картинки из интернета. Почему мне показали этот диалог раскрытым на никогда не использующейся мной вкладке? «Альтернативный текст» — это семантика, это веб-2.0, это моя дань роботам и инвалидам, наконец. Почему мне предлагают ввести туда только пять символов? Кто такой «Фотобукет» и кто им пользуется? Я лично никогда не получал ссылок на фотобукет. Вы получали? Уф. Спасибо, но я лучше закрою этот Монструм Ипсум и — по старинке — закачаю ручками свою картинку к себе на сервер, а потом руками вставлю тег `<img …>`.

Вставить имя пользователя. Тоже кнопочка не без подвоха. Если ее просто так нажать, без подготовки — вылезет отвратительный алерт, написанный хамским тоном. Что, ради всех святых, могло помешать создателям показать мне диалог с полем ввода имени, как это происходит для вставки ссылки, например? Или, хотя бы, сделать эту кнопку неактивной, пока я ничего не выделил? Что?!

Вообще, вставка имени ведет себя изощренно гнусно. Например, если в визуальном режиме забыться и набрать `<lj user="cuewager"/>` — санитайзер педантично заменит угловые скобки — на `&lt;` и `&gt;`. Это же ведь совершенно невозможно догадаться, что я имел в виду, правда? А все потому, что удобство использования у нас определяется программистами. Выросшими в суровые времена из ассемблера, судя по результатам.

Далее. Кнопка вставить ссылку. Почему я не могу ее нажать, ничего не выделив? Мне все равно покажут окошечко с полями ввода — дайте я туда и текст скопирую. Почему я должен помнить о том, что нельзя забрать в буфер для последующей вставки адрес — сначала нужно скопировать текст, который будет написан на ссылке?!

Идем дальше. Цитата. О! Это удобно. Только вот незадача: во всех стандартных оформлениях журнала она вообще никак не выделяется. То есть, автор-то знает, что вот это, это и это — просто абзацы, а вот то — цитата. А читатели — уже нет, извините. Что мешает задать в стандартной таблице стилей одно-единственное правило:

`blockquote {  
    border-left: 3px solid #CCC;  
    background-color: #EEE;  
    padding: 0.6em; margin-left: 100px;  
  }`

Я не в состоянии этого понять.

§3 Ну, и что?

Ну и то. Чтобы этим редактором было удобно пользоваться — нужно сделать-то всего-ничего:

• выкинуть к ебеням все кнопки, кроме перечисленных; маргиналы, гики и примкнувшие эстеты наберут все остальное ручками;
• дать возможность нажимать все кнопки в любой момент, реагируя контекстно-адекватно;
• написать такую таблицу стилей по умолчанию, чтобы никому не хотелось рыдать, глядя на никак не выделенные цитаты, кошмарные буллиты и одинаковый отступ между параграфами и при простых разрывах строк.

И, я уверен, как только кто-то из разработчиков этого редактора заставит себя сам им пользоваться — все мои пожелания будут учтены за неделю. А еще тогда наступит мир во всем мире и никто не уйдет обиженным.